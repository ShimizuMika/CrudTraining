use training;

/* Drop Tables */

DROP TABLE IF EXISTS EMPLOYEE;
DROP TABLE IF EXISTS DEPARTMENT;
DROP TABLE IF EXISTS JOBTYPE;

commit;


/* Create Tables */

CREATE TABLE DEPARTMENT
(
	DEPARTMENT_ID int(4) NOT NULL AUTO_INCREMENT,
	DEPARTMENT_NAME varchar(100) NOT NULL,
	PRIMARY KEY (DEPARTMENT_ID)
);


CREATE TABLE JOBTYPE
(
	JOBTYPE_ID int(4) NOT NULL AUTO_INCREMENT,
	JOBTYPE_NAME varchar(40) NOT NULL,
	PRIMARY KEY (JOBTYPE_ID)
);


CREATE TABLE EMPLOYEE
(
	EMPLOYEE_ID int(11) NOT NULL AUTO_INCREMENT,
	EMPLOYEE_NAME varchar(50) NOT NULL,
	AGE int(3) NOT NULL,
	SALARY int(8) NOT NULL,
	JOBTYPE_ID int(4),
	HIREDATE DATE NOT NULL,
	DEPARTMENT_ID int(4),
	VERSION int(18) NOT NULL,
	INSERT_TIMESTAMP timestamp NOT NULL DEFAULT current_timestamp,
	UPDATE_TIMESTAMP TIMESTAMP NOT NULL DEFAULT current_timestamp,
	PRIMARY KEY (EMPLOYEE_ID),
	FOREIGN KEY(DEPARTMENT_ID) REFERENCES DEPARTMENT(DEPARTMENT_ID),
	FOREIGN KEY(JOBTYPE_ID) REFERENCES JOBTYPE(JOBTYPE_ID)
	
);

INSERT INTO DEPARTMENT VALUES(1,'ACCOUNTING');
INSERT INTO DEPARTMENT VALUES(2,'RESEARCH');
INSERT INTO DEPARTMENT VALUES(3,'SALES');

INSERT INTO JOBTYPE VALUES(1,'SALESMAN');
INSERT INTO JOBTYPE VALUES(2,'MANAGER');
INSERT INTO JOBTYPE VALUES(3,'ANALYST');
INSERT INTO JOBTYPE VALUES(4,'PRESIDENT');
INSERT INTO JOBTYPE VALUES(5,'CLERK');

INSERT INTO EMPLOYEE VALUES(1,'ALLEN',30,1600,1,'2014-01-20',1,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(2,'WARD',32,1250,3,'2014-02-20',2,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(3,'JONES',38,2975,2,'2014-03-20',3,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(4,'MARTIN',40,1250,1,'2014-04-20',1,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(5,'BLAKE',50,2850,1,'2014-05-20',2,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(6,'CLARK',23,2450,2,'2014-06-20',3,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(7,'SCOTT',28,3000,1,'2014-07-20',1,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(8,'KING',38,5000,5,'2014-08-20',2,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(9,'TURNER',33,1500,3,'2014-09-20',3,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(10,'ADAMS',62,1100,1,'2014-10-20',1,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(11,'JAMES',44,950,5,'2014-11-20',2,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(12,'FORD',55,3000,3,'2014-12-20',3,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(13,'MILLER',51,1300,2,'2015-01-20',1,1,CURRENT_TIMESTAMP,null);
INSERT INTO EMPLOYEE VALUES(14,'SMITH',41,800,4,'2014-02-20',2,1,CURRENT_TIMESTAMP,null);
commit;

DROP TABLE IF EXISTS USERINFO;
commit;
CREATE table USERINFO(id char(4) PRIMARY KEY,nick_name VARCHAR(20),password VARCHAR(128));
INSERT INTO USERINFO(id,nick_name,password) VALUES('0001','nobi','$2a$10$ryY4AVX81rUNZEena/f4M.3TPr9rxJMVcV6YubNIMYPncDPS6A4Qy');
INSERT INTO USERINFO(id,nick_name,password) VALUES('0002','miki', '$2a$10$SjJiWEDglosuF78jwujYkuQUnBJmje.LLtmpiUPCNO.6E1Qc8SWd2');
commit;

